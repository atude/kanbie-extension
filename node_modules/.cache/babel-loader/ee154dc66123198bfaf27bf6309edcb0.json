{"ast":null,"code":"'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $gOPD = require('../helpers/getOwnPropertyDescriptor');\n\nvar $gOPN = GetIntrinsic('%Object.getOwnPropertyNames%');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar every = require('../helpers/every');\n\nvar IsDataDescriptor = require('./IsDataDescriptor');\n\nvar IsExtensible = require('./IsExtensible');\n\nvar ToPropertyDescriptor = require('./ToPropertyDescriptor');\n\nvar Type = require('./Type'); // https://www.ecma-international.org/ecma-262/6.0/#sec-testintegritylevel\n\n\nmodule.exports = function TestIntegrityLevel(O, level) {\n  if (Type(O) !== 'Object') {\n    throw new $TypeError('Assertion failed: Type(O) is not Object');\n  }\n\n  if (level !== 'sealed' && level !== 'frozen') {\n    throw new $TypeError('Assertion failed: `level` must be `\"sealed\"` or `\"frozen\"`');\n  }\n\n  var status = IsExtensible(O);\n\n  if (status) {\n    return false;\n  }\n\n  var theKeys = $gOPN(O);\n  return theKeys.length === 0 || every(theKeys, function (k) {\n    var currentDesc = $gOPD(O, k);\n\n    if (typeof currentDesc !== 'undefined') {\n      if (currentDesc.configurable) {\n        return false;\n      }\n\n      if (level === 'frozen' && IsDataDescriptor(ToPropertyDescriptor(currentDesc)) && currentDesc.writable) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n};","map":{"version":3,"sources":["/home/atude/projects/kanbie/node_modules/es-abstract/2015/TestIntegrityLevel.js"],"names":["GetIntrinsic","require","$gOPD","$gOPN","$TypeError","every","IsDataDescriptor","IsExtensible","ToPropertyDescriptor","Type","module","exports","TestIntegrityLevel","O","level","status","theKeys","length","k","currentDesc","configurable","writable"],"mappings":"AAAA;;AAEA,IAAIA,YAAY,GAAGC,OAAO,CAAC,iBAAD,CAA1B;;AAEA,IAAIC,KAAK,GAAGD,OAAO,CAAC,qCAAD,CAAnB;;AACA,IAAIE,KAAK,GAAGH,YAAY,CAAC,8BAAD,CAAxB;AACA,IAAII,UAAU,GAAGJ,YAAY,CAAC,aAAD,CAA7B;;AAEA,IAAIK,KAAK,GAAGJ,OAAO,CAAC,kBAAD,CAAnB;;AAEA,IAAIK,gBAAgB,GAAGL,OAAO,CAAC,oBAAD,CAA9B;;AACA,IAAIM,YAAY,GAAGN,OAAO,CAAC,gBAAD,CAA1B;;AACA,IAAIO,oBAAoB,GAAGP,OAAO,CAAC,wBAAD,CAAlC;;AACA,IAAIQ,IAAI,GAAGR,OAAO,CAAC,QAAD,CAAlB,C,CAEA;;;AAEAS,MAAM,CAACC,OAAP,GAAiB,SAASC,kBAAT,CAA4BC,CAA5B,EAA+BC,KAA/B,EAAsC;AACtD,MAAIL,IAAI,CAACI,CAAD,CAAJ,KAAY,QAAhB,EAA0B;AACzB,UAAM,IAAIT,UAAJ,CAAe,yCAAf,CAAN;AACA;;AACD,MAAIU,KAAK,KAAK,QAAV,IAAsBA,KAAK,KAAK,QAApC,EAA8C;AAC7C,UAAM,IAAIV,UAAJ,CAAe,4DAAf,CAAN;AACA;;AACD,MAAIW,MAAM,GAAGR,YAAY,CAACM,CAAD,CAAzB;;AACA,MAAIE,MAAJ,EAAY;AACX,WAAO,KAAP;AACA;;AACD,MAAIC,OAAO,GAAGb,KAAK,CAACU,CAAD,CAAnB;AACA,SAAOG,OAAO,CAACC,MAAR,KAAmB,CAAnB,IAAwBZ,KAAK,CAACW,OAAD,EAAU,UAAUE,CAAV,EAAa;AAC1D,QAAIC,WAAW,GAAGjB,KAAK,CAACW,CAAD,EAAIK,CAAJ,CAAvB;;AACA,QAAI,OAAOC,WAAP,KAAuB,WAA3B,EAAwC;AACvC,UAAIA,WAAW,CAACC,YAAhB,EAA8B;AAC7B,eAAO,KAAP;AACA;;AACD,UAAIN,KAAK,KAAK,QAAV,IAAsBR,gBAAgB,CAACE,oBAAoB,CAACW,WAAD,CAArB,CAAtC,IAA6EA,WAAW,CAACE,QAA7F,EAAuG;AACtG,eAAO,KAAP;AACA;AACD;;AACD,WAAO,IAAP;AACA,GAXmC,CAApC;AAYA,CAxBD","sourcesContent":["'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $gOPD = require('../helpers/getOwnPropertyDescriptor');\nvar $gOPN = GetIntrinsic('%Object.getOwnPropertyNames%');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar every = require('../helpers/every');\n\nvar IsDataDescriptor = require('./IsDataDescriptor');\nvar IsExtensible = require('./IsExtensible');\nvar ToPropertyDescriptor = require('./ToPropertyDescriptor');\nvar Type = require('./Type');\n\n// https://www.ecma-international.org/ecma-262/6.0/#sec-testintegritylevel\n\nmodule.exports = function TestIntegrityLevel(O, level) {\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t}\n\tif (level !== 'sealed' && level !== 'frozen') {\n\t\tthrow new $TypeError('Assertion failed: `level` must be `\"sealed\"` or `\"frozen\"`');\n\t}\n\tvar status = IsExtensible(O);\n\tif (status) {\n\t\treturn false;\n\t}\n\tvar theKeys = $gOPN(O);\n\treturn theKeys.length === 0 || every(theKeys, function (k) {\n\t\tvar currentDesc = $gOPD(O, k);\n\t\tif (typeof currentDesc !== 'undefined') {\n\t\t\tif (currentDesc.configurable) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (level === 'frozen' && IsDataDescriptor(ToPropertyDescriptor(currentDesc)) && currentDesc.writable) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n};\n"]},"metadata":{},"sourceType":"script"}